{
	"_metadata": {
		"title": "Ash-Vigil Default Configuration",
		"file_version": "v5.1-6-6.3-5",
		"last_modified": "2026-02-14",
		"clean_architecture": "v5.2.3",
		"description": "Default configuration for Ash-Vigil Mental Health Risk Detection Service"
	},

	"api": {
		"host": "${VIGIL_HOST}",
		"port": "${VIGIL_PORT}",
		"defaults": {
			"host": "0.0.0.0",
			"port": 30882
		},
		"validation": {
			"host": {
				"type": "string",
				"required": true
			},
			"port": {
				"type": "integer",
				"range": [1, 65535],
				"required": true
			}
		}
	},

	"model": {
		"name": "${VIGIL_MODEL_NAME}",
		"type": "${VIGIL_MODEL_TYPE}",
		"device": "${VIGIL_MODEL_DEVICE}",
		"max_length": "${VIGIL_MODEL_MAX_LENGTH}",
		"cache_dir": "${VIGIL_MODEL_CACHE_DIR}",
		"defaults": {
			"name": "facebook/bart-large-mnli",
			"type": "zero-shot",
			"device": "cuda",
			"max_length": 512,
			"cache_dir": "/app/models-cache"
		},
		"validation": {
			"name": {
				"type": "string",
				"required": true
			},
			"type": {
				"type": "string",
				"allowed_values": ["zero-shot", "classifier"],
				"required": false
			},
			"device": {
				"type": "string",
				"allowed_values": ["cuda", "cpu"],
				"required": true
			},
			"max_length": {
				"type": "integer",
				"range": [64, 2048],
				"required": false
			},
			"cache_dir": {
				"type": "string",
				"required": false
			}
		}
	},

	"zero_shot": {
		"_description": "Configuration for zero-shot classification mode",
		"candidate_labels": {
			"_description": "Labels the model will classify text against",
			"high_risk": [
				"person expressing suicidal thoughts or self-harm intentions",
				"person in immediate emotional crisis needing urgent help"
			],
			"moderate_risk": [
				"person experiencing rejection from family due to LGBTQIA+ identity",
				"person facing discrimination or social exclusion due to who they are",
				"person struggling with identity acceptance and feeling hopeless"
			],
			"safe": [
				"casual conversation about video games, gaming, or competitive play",
				"person discussing fictional media, movies, TV shows, or book quotes",
				"everyday friendly conversation with no emotional distress",
				"person using slang, humor, sarcasm, or ironic exaggeration",
				"person sharing opinions about politics, news, or current events"
			]
		},
		"multi_label": false,
		"hypothesis_template": "This text is from a {}"
	},

	"inference": {
		"batch_size": "${VIGIL_BATCH_SIZE}",
		"timeout_seconds": "${VIGIL_TIMEOUT}",
		"defaults": {
			"batch_size": 1,
			"timeout_seconds": 30
		},
		"validation": {
			"batch_size": {
				"type": "integer",
				"range": [1, 64],
				"required": false
			},
			"timeout_seconds": {
				"type": "integer",
				"range": [1, 300],
				"required": false
			}
		}
	},

	"thresholds": {
		"_description": "Score thresholds for risk categorization (three-tier: high_risk, moderate_risk, safe)",
		"high_risk_min": "${VIGIL_THRESHOLD_HIGH_RISK}",
		"moderate_risk_min": "${VIGIL_THRESHOLD_MODERATE_RISK}",
		"defaults": {
			"high_risk_min": 0.65,
			"moderate_risk_min": 0.45
		},
		"validation": {
			"high_risk_min": {
				"type": "float",
				"range": [0.01, 1.0],
				"required": false
			},
			"moderate_risk_min": {
				"type": "float",
				"range": [0.01, 1.0],
				"required": false
			}
		}
	},

	"scoring": {
		"_description": "Risk score formula weights (ratio-based: risk_signal - safe_signal)",
		"weight_high_risk": "${VIGIL_SCORING_WEIGHT_HIGH_RISK}",
		"weight_moderate_risk": "${VIGIL_SCORING_WEIGHT_MODERATE_RISK}",
		"weight_safe": "${VIGIL_SCORING_WEIGHT_SAFE}",
		"weight_low_risk": "${VIGIL_SCORING_WEIGHT_LOW_RISK}",
		"defaults": {
			"weight_high_risk": 1.0,
			"weight_moderate_risk": 0.7,
			"weight_safe": 1.0,
			"weight_low_risk": 0.4
		},
		"validation": {
			"weight_high_risk": {
				"type": "float",
				"range": [0.0, 2.0],
				"required": false
			},
			"weight_moderate_risk": {
				"type": "float",
				"range": [0.0, 2.0],
				"required": false
			},
			"weight_safe": {
				"type": "float",
				"range": [0.0, 2.0],
				"required": false
			},
			"weight_low_risk": {
				"type": "float",
				"range": [0.0, 2.0],
				"required": false
			}
		}
	},

	"logging": {
		"level": "${VIGIL_LOG_LEVEL}",
		"format": "${VIGIL_LOG_FORMAT}",
		"colorize": "${VIGIL_LOG_COLORIZE}",
		"defaults": {
			"level": "INFO",
			"format": "human",
			"colorize": true
		},
		"validation": {
			"level": {
				"type": "string",
				"allowed_values": ["DEBUG", "INFO", "WARNING", "ERROR", "CRITICAL"],
				"required": false
			},
			"format": {
				"type": "string",
				"allowed_values": ["human", "json"],
				"required": false
			},
			"colorize": {
				"type": "boolean",
				"required": false
			}
		}
	}
}
